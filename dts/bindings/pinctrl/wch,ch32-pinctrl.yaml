# Copyright (c)
# SPDX-License-Identifier: Apache-2.0

description: |
    The CH32 pin controller (AFIO Model) is a singleton node responsible for
    controlling pin function selection and pin properties. For example, you can
    use this node to route USART1 RX to pin PA10 and enable the pull-up resistor
    on the pin. Remapping is also supported.

    The node has the 'pinctrl' node label set in your SoC's devicetree,
    so you can modify it like this:

      &pinctrl {
              /* your modifications go here */
      };
compatible: "wch,ch32-pinctrl"

include: base.yaml

child-binding:
  child-binding:
    properties:
      pinmux:
        required: true
        type: array
        description: |
          An array of pins sharing the same group properties. The pins should
          be defined using pre-defined macros or, alternatively, using the
          CH32_PINMUX_AF utility macros depending on the pinmux model used by 
          the SoC series.
      
      remapping:
        type: int
        default: 0
        description: |
          Set Alternate function remapping confiuration, Bit0~3, AFIO_PCFR1~2 
          registers offsets, Bit4~7, remapping configuration values, Bit15~8
          remapping bits offset in the registers.

      slew-rate:
        type: string
        default: "max-speed-10mhz"
        enum:
          - "max-speed-10mhz"
          - "max-speed-2mhz"
          - "max-speed-50mhz"
        description: |
          Set the maximum speed of a pin. This setting effectively limits the
          slew rate of the output signal. Defaults to "max-speed-10mhz".